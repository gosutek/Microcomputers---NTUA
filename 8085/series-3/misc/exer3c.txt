RHLR MACRO n

PUSH PSW
PUSH B
MOV B,n

LOOP:
MOV A,B
CPI 00H
JZ STOP
MOV A,H
RAR
MOV H,A
MOV A,L
RAR
MOV L,A

DCR B
JMP LOOP

STOP:
JC STORE
MVI B,00H
JMP ENDING

STORE:
MVI B,01H

ENDING:
POP B
POP PSW

ENDM
